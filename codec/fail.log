higgsArchOne~/go/src/github.com/cryptix/go-muxrpc/codec(master|✚4…) % go test
2016/02/26 15:26:04 dbg: (9 bytes)
2016/02/26 15:26:04 
00000000  02 00 00 00 17 00 00 00  00                       |.........|
2016/02/26 15:26:04 dbg: (23 bytes)
2016/02/26 15:26:04 
00000000  5b 22 65 76 65 6e 74 22  2c 7b 22 6f 6b 61 79 22  |["event",{"okay"|
00000010  3a 74 72 75 65 7d 5d                              |:true}]|
2016/02/26 15:26:04 dbg: (9 bytes)
2016/02/26 15:26:04 
00000000  01 00 00 00 08 00 00 00  01                       |.........|
2016/02/26 15:26:04 dbg: (8 bytes)
2016/02/26 15:26:04 
00000000  77 68 61 74 65 76 65 72                           |whatever|
2016/02/26 15:26:04 dbg: (9 bytes)
2016/02/26 15:26:04 
00000000  08 00 00 00 05 00 00 00  02                       |.........|
2016/02/26 15:26:04 dbg: (5 bytes)
2016/02/26 15:26:04 
00000000  68 65 6c 6c 6f                                    |hello|
2016/02/26 15:26:04 dbg: (9 bytes)
2016/02/26 15:26:04 
00000000  08 00 00 00 07 ef bf bd  ef                       |.........|
2016/02/26 15:26:04 dbg: (7 bytes)
2016/02/26 15:26:04 
00000000  bf bd ef bf bd ef bf                              |.......|
2016/02/26 15:26:04 dbg: (9 bytes)
2016/02/26 15:26:04 
00000000  bd 67 6f 6f 64 62 79 65  06                       |.goodbye.|
2016/02/26 15:26:04 dbg: (530 bytes)
2016/02/26 15:26:04 
00000000  00 00 01 ef bf bd ef bf  bd ef bf bd ef bf bd ef  |................|
00000010  bf bd 7b 22 6d 65 73 73  61 67 65 22 3a 22 69 6e  |..{"message":"in|
00000020  74 65 6e 74 69 6f 6e 61  6c 22 2c 22 6e 61 6d 65  |tentional","name|
00000030  22 3a 22 45 72 72 6f 72  22 2c 22 73 74 61 63 6b  |":"Error","stack|
00000040  22 3a 22 45 72 72 6f 72  3a 20 69 6e 74 65 6e 74  |":"Error: intent|
00000050  69 6f 6e 61 6c 5c 6e 20  20 20 20 61 74 20 4f 62  |ional\n    at Ob|
00000060  6a 65 63 74 2e 3c 61 6e  6f 6e 79 6d 6f 75 73 3e  |ject.<anonymous>|
00000070  20 28 2f 68 6f 6d 65 2f  63 72 79 70 74 69 78 2f  | (/home/cryptix/|
00000080  67 6f 2f 73 72 63 2f 67  69 74 68 75 62 2e 63 6f  |go/src/github.co|
00000090  6d 2f 63 72 79 70 74 69  78 2f 67 6f 2d 6d 75 78  |m/cryptix/go-mux|
000000a0  72 70 63 2f 63 6f 64 65  63 2f 74 65 73 74 5f 77  |rpc/codec/test_w|
000000b0  72 69 74 65 72 2e 6a 73  3a 31 39 3a 35 31 29 5c  |riter.js:19:51)\|
000000c0  6e 20 20 20 20 61 74 20  4d 6f 64 75 6c 65 2e 5f  |n    at Module._|
000000d0  63 6f 6d 70 69 6c 65 20  28 6d 6f 64 75 6c 65 2e  |compile (module.|
000000e0  6a 73 3a 34 31 33 3a 33  34 29 5c 6e 20 20 20 20  |js:413:34)\n    |
000000f0  61 74 20 4f 62 6a 65 63  74 2e 4d 6f 64 75 6c 65  |at Object.Module|
00000100  2e 5f 65 78 74 65 6e 73  69 6f 6e 73 2e 2e 6a 73  |._extensions..js|
00000110  20 28 6d 6f 64 75 6c 65  2e 6a 73 3a 34 32 32 3a  | (module.js:422:|
00000120  31 30 29 5c 6e 20 20 20  20 61 74 20 4d 6f 64 75  |10)\n    at Modu|
00000130  6c 65 2e 6c 6f 61 64 20  28 6d 6f 64 75 6c 65 2e  |le.load (module.|
00000140  6a 73 3a 33 35 37 3a 33  32 29 5c 6e 20 20 20 20  |js:357:32)\n    |
00000150  61 74 20 46 75 6e 63 74  69 6f 6e 2e 4d 6f 64 75  |at Function.Modu|
00000160  6c 65 2e 5f 6c 6f 61 64  20 28 6d 6f 64 75 6c 65  |le._load (module|
00000170  2e 6a 73 3a 33 31 34 3a  31 32 29 5c 6e 20 20 20  |.js:314:12)\n   |
00000180  20 61 74 20 46 75 6e 63  74 69 6f 6e 2e 4d 6f 64  | at Function.Mod|
00000190  75 6c 65 2e 72 75 6e 4d  61 69 6e 20 28 6d 6f 64  |ule.runMain (mod|
000001a0  75 6c 65 2e 6a 73 3a 34  34 37 3a 31 30 29 5c 6e  |ule.js:447:10)\n|
000001b0  20 20 20 20 61 74 20 73  74 61 72 74 75 70 20 28  |    at startup (|
000001c0  6e 6f 64 65 2e 6a 73 3a  31 34 31 3a 31 38 29 5c  |node.js:141:18)\|
000001d0  6e 20 20 20 20 61 74 20  6e 6f 64 65 2e 6a 73 3a  |n    at node.js:|
000001e0  39 33 33 3a 33 22 7d 0e  00 00 00 04 00 00 00 02  |933:3"}.........|
000001f0  74 72 75 65 0e 00 00 00  04 ef bf bd ef bf bd ef  |true............|
00000200  bf bd ef bf bd 74 72 75  65 00 00 00 00 00 00 00  |.....true.......|
00000210  00 00                                             |..|
2016/02/26 15:26:04 dbg: (0 bytes) Error: EOF
2016/02/26 15:26:04 
--- FAIL: TestReader (0.25s)
	reader_test.go:31: Stream(false) EndErr(false) Type(JSON) Len(23) Req(0)
		(n:23) "[\"event\",{\"okay\":true}]"
	reader_test.go:31: Stream(false) EndErr(false) Type(String) Len(8) Req(1)
		(n:8) "whatever"
	reader_test.go:31: Stream(true) EndErr(false) Type(Buffer) Len(5) Req(2)
		(n:5) "hello"
	reader_test.go:31: Stream(true) EndErr(false) Type(Buffer) Len(7) Req(-272646673)
		(n:7) "\xbf\xbd�\xef\xbf"
	reader_test.go:28: pkt-codec: read body failed: unexpected EOF
FAIL
exit status 1
FAIL	github.com/cryptix/go-muxrpc/codec	0.257s

